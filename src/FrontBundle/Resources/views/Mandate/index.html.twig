{% extends 'FrontBundle:CRUD:index.html.twig' %}

{% block page_header_title -%}
    <h1>Mandats</h1>
{%- endblock %}

{% block page_header_button -%}
    {{ macros.button_entity_new(path('mandates_new'), 'Nouveau Mandat') }}
{%- endblock %}

{% block sub_body -%}
    <div class="row">
        <table class="table table-head-bordered table-hover table-responsive table-striped table-vcentered" id="users-index-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Nom</th>
                    <th>DÃ©but de mandat</th>
                    <th>Fin de mandat</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
            {% for mandate in mandates %}
                <tr class="clickable"
                    onclick="window.location='{{ path('mandates_show', { 'id': mandate['@id']|uriId }) }}'">
                    <td>{{ mandate['@id']|uriId }}</td>
                    <td>{{ mandate.name }}</td>
                    <td>{{ mandate.startAt|date('m/Y') }}</td>
                    <td>{{ mandate.endAt|date('m/Y') }}</td>
                    <td>
                        {{ macros.button_entity_show(path('mandates_show', { 'id': mandate['@id']|uriId })) }}
                        {{ macros.button_entity_edit(path('mandates_show', { 'id': mandate['@id']|uriId })) }}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{%- endblock %}
